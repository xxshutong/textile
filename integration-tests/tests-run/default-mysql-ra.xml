<?xml version="1.0" encoding="UTF-8"?>
<connector xmlns="http://geronimo.apache.org/xml/ns/j2ee/connector-1.2">
    <dep:environment xmlns:dep="http://geronimo.apache.org/xml/ns/deployment-1.2">
        <dep:moduleId>
            <dep:groupId>org.tranql</dep:groupId>
            <dep:artifactId>tranql-connector-mysql-xa</dep:artifactId>
            <dep:version>1.3</dep:version>
            <dep:type>rar</dep:type>
        </dep:moduleId>
        <dep:dependencies>
            <dep:dependency>
                <dep:groupId>mysql</dep:groupId>
                <dep:artifactId>mysql-connector-java</dep:artifactId>
                <dep:version>5.1.10</dep:version>
                <dep:type>jar</dep:type>
            </dep:dependency>
        </dep:dependencies>
    </dep:environment>
    <resourceadapter>
        <outbound-resourceadapter>
            <connection-definition>
                <connectionfactory-interface>javax.sql.DataSource</connectionfactory-interface>
                <connectiondefinition-instance>
                    <name>jdbc/DefaultDataSource</name>
                    <jndi-name>jdbc/DefaultDataSource</jndi-name>
                    <config-property-setting name="ServerName">localhost</config-property-setting>
                    <config-property-setting name="DatabaseName">opentaps</config-property-setting>
                    <config-property-setting name="UserName">opentaps</config-property-setting>
                    <config-property-setting name="Password">opentaps</config-property-setting>
                    <connectionmanager>
                        <no-transaction/>
                        <single-pool>
                            <max-size>250</max-size>
                            <min-size>2</min-size>
                            <blocking-timeout-milliseconds>5000</blocking-timeout-milliseconds>
                            <match-one/>
                        </single-pool>
                    </connectionmanager>
                </connectiondefinition-instance>
                <connectiondefinition-instance>
                    <name>jdbc/DefaultXADataSource</name>
                    <jndi-name>jdbc/DefaultXADataSource</jndi-name>
                    <config-property-setting name="ServerName">localhost</config-property-setting>
                    <config-property-setting name="DatabaseName">opentaps</config-property-setting>
                    <config-property-setting name="UserName">opentaps</config-property-setting>
                    <config-property-setting name="Password">opentaps</config-property-setting>
                    <connectionmanager>
                        <xa-transaction>
                            <transaction-caching/>
                        </xa-transaction>
                        <single-pool>
                            <max-size>250</max-size>
                            <min-size>2</min-size>
                            <blocking-timeout-milliseconds>5000</blocking-timeout-milliseconds>
                            <match-one/>
                        </single-pool>
                    </connectionmanager>
                </connectiondefinition-instance>
            </connection-definition>
        </outbound-resourceadapter>
    </resourceadapter>
</connector>