INTEGRATION TESTS
=================

Currently we should use Geronimo 3.0-beta-1. The binaries can be downloaded from 
http://geronimo.apache.org/apache-geronimo-v30-beta-1-release.html. Use Web Profile
releases.

Build Caution: Project use a few bundled Apache libraries from Eclipse Orbit project.
Since they unavailable in Maven repositories you have to install them into local repository
to get build working. Go to thirdparty directory and run install.sh before building 
project.

Setup testing instance
=======================
1. (optional) Unpack the .zip (Windows) or tar.gz (Unix) file containing Geronimo to a convenient directory
   (we'll refer to it as geronimo home) and read the attached README.TXT file for information 
   about further installation and configuration steps.
2. Create a MySQL database and load demo data using opentaps './ant run-install' command. 
   Preferred database name is 'opentaps'. Both username and password are 'opentaps' as well.
   If you want other names please correct corresponding entries in 
   /modules/entity/src/main/resources/OSGI-INF/blueprint/blueprint.xml
3. RPC tests call a service running on demo1.opentaps.org. It should be constantly available. 
   If you want to use another instance adjust URL and credentials in
   /modules/core/src/main/resources/OSGI-INF/blueprint/blueprint.xml

Run tests
=========
Go to project directory and run 'mvn -Dit -DgeronimoHome=/path/to/geronimo_home verify' or
'mvn -Dit verify'. Please note the difference. In second case geronimo binaries is downloaded
automatically and installed into target directory and you do not need install geronimo separately.
Both cases have advantages and disadvantages, use any of your choice. 

Debug tests
===========
Since Geronimo is Karaf based information from http://karaf.apache.org/manual/2.2.2/developers-guide/debugging.html cover
our case but with some peculiarities. Testing instance is run by geronimo-maven-plugin and we have to enable debug
mode in "it" profile. See configuration for "start-server" execution in integration-tests/tests-run/pom.xml.
