INTEGRATION TESTS
=================

Currently we should use Geronimo 3.0-SNAPSHOT. The binaries can be downloaded from 
https://repository.apache.org/content/groups/snapshots/org/apache/geronimo/assemblies
Last tested is geronimo-tomcat7-javaee6-3.0-20110812.163533-270-bin.tar.gz

Setup testing instance
=======================
1. Unpack the .zip (Windows) or tar.gz (Unix) file containing Geronimo to a convenient directory
   (we'll refer to it as geronimo home) and read the attached README.TXT file for information 
   about further installation and configuration steps.
2. Create a MySQL database and load demo data using opentaps './ant run-install' command. 
   Preferred database name is 'opentaps'. Both username and password are 'opentaps' as well.
   If you want other names please correct corresponding entries in integration-tests/tests-run/default-mysql-ra.xml
3. Deploy MySQL JDBC driver. Just copy it into <geronimo_home>/hotbundles directory. We use
   mysql-connector-java-5.1.16-bin.jar. The driver may be downloaded from http://www.mysql.com/downloads/connector/j/

Run tests
=========
Go to project directory and run 'mvn -Dit -DgeronimoHome=/path/to/geronimo_home verify'

Debug tests
===========
Since Geronimo is Karaf based information from http://karaf.apache.org/manual/2.2.2/developers-guide/debugging.html cover
our case but with some peculiarities. Testing instance is run by geronimo-maven-plugin and we have to enable debug
mode in "it" profile. See configuration for "start-server" execution in integration-tests/tests-run/pom.xml.
